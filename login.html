<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Krusty Krab â€” Sign In</title>
  <link rel="stylesheet" href="style.css" />
  <style>
@import url('https://fonts.googleapis.com/css2?family=Alata&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Comic+Neue:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap');
</style>
</head>
<body class="auth-page">

  <div class="auth-card">
    <img src="krustykrablogo.png" alt="logo" class="auth-logo" />
    <h2 style="font-family: 'Alata';">Sign In</h2>
    <p class="auth-sub" style="font-family: 'Comic Neue';">Selamat datang di Krusty Krab â€” order cepat & mudah!</p>

    <form id="loginForm" onsubmit="return false;">
      <input id="login-username" type="text" placeholder="Username" required />
      <input id="login-password" type="password" placeholder="Password" required />
      <button id="btnLogin" class="btn" style="font-family: 'Alata';">Sign In</button>
    </form>

    <p class="small-links">
      Belum punya akun? <a href="register.html">Sign Up</a>
    </p>

    <!-- Guest link kecil di bawah, sesuai pilihanmu (B) -->
    <p class="guest-link">
      Tidak mau buat akun? <a href="#" id="guestBtn">Continue as a Guest</a>
    </p>
  </div>

<script>
  function getUsers() {
    const raw = localStorage.getItem('kk_users');
    return raw ? JSON.parse(raw) : [];
  }

  document.getElementById('btnLogin').addEventListener('click', () => {
    const u = document.getElementById('login-username').value.trim();
    const p = document.getElementById('login-password').value;
    if (!u || !p) { alert('Isi username & password'); return; }
    if (u === 'admin' && p === 'admin123'){
      localStorage.setItem(
        'kk_currentUser',
        JSON.stringify({ username: 'admin', role: 'admin' })
      );
      window.location.href = 'admin_dashboard.html';
      return;
    }

    const users = getUsers();
    const found = users.find(x => x.username === u && x.password === p);
    if (!found) {
      alert('Username atau password salah.');
      return;
    }

    localStorage.setItem(
      'kk_currentUser',
      JSON.stringify({ username: found.username, role: found.role || 'customer' })
    );

    // ðŸ‘‰ JANGAN ke dashboard langsung
    window.location.href = 'splash_login.html';
  });

  document.getElementById('guestBtn').addEventListener('click', (e) => {
    e.preventDefault();
    localStorage.removeItem('kk_currentUser');
    localStorage.setItem('kk_guest', 'true');

    // ðŸ‘‰ guest juga lewat splash_login
    window.location.href = 'splash_login.html';
  });
</script>


</body>
</html>
