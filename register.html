<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Krusty Krab â€” Sign Up</title>
  <link rel="stylesheet" href="style.css" />
  <style>
@import url('https://fonts.googleapis.com/css2?family=Alata&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Comic+Neue:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap');
</style>
</head>

<body class="auth-page">

  <div class="auth-card">
    <img src="krustykrablogo.png" class="auth-logo" />

    <h2 style="font-family: 'Alata';">Sign Up</h2>
    <p class="auth-sub" style="font-family: 'Comic Neue';">Buat akun dulu yuk sebelum makan!</p>

    <form>
      <input id="email" type="email" placeholder="Email" />
      <input id="username" type="text" placeholder="Username" />
      <input id="password" type="password" placeholder="Password" />
      <input id="confirm" type="password" placeholder="Konfirmasi Password" />

      <button id="btnRegister" class="btn" style="font-family: 'Alata';">Sign Up</button>
    </form>

    <p class="small-links">
      Sudah punya akun? <a href="login.html">Sign In</a>
    </p>
  </div>

<script>
  // Ambil data user dari localStorage
  function getUsers() {
    const data = localStorage.getItem('kk_users');
    return data ? JSON.parse(data) : [];
  }

  // Simpan data user ke localStorage
  function saveUsers(users) {
    localStorage.setItem('kk_users', JSON.stringify(users));
  }

  document.getElementById('btnRegister').addEventListener('click', function () {

    const email = document.getElementById('email').value.trim();
    const username = document.getElementById('username').value.trim();
    const password = document.getElementById('password').value;
    const confirm = document.getElementById('confirm').value;

    // Validasi kosong
    if (!email || !username || !password || !confirm) {
      alert('Lengkapi semua data!');
      return;
    }

    // Validasi password
    if (password !== confirm) {
      alert('Password dan konfirmasi tidak sama!');
      return;
    }

    const users = getUsers();

    // Cek username sudah ada
    if (users.find(u => u.username === username)) {
      alert('Username sudah digunakan!');
      return;
    }

    // Simpan user baru
    users.push({
      email: email,
      username: username,
      password: password
    });

    saveUsers(users);

    alert('Pendaftaran berhasil! Silakan Sign In.');
    window.location.href = 'login.html';
  });
</script>

</body>
</html>
